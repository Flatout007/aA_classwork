{"version":3,"sources":["./frontend/api_util.js","./frontend/follow_toggle.js","webpack/bootstrap","./frontend/twitter.js"],"names":["APIUtil","followUser","id","$","ajax","method","url","this","userId","dataType","then","_changeState","unfollowUser","module","exports","el","$el","data","followState","render","on","handleClick","bind","result","text","e","preventDefault","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call","FollowToggle","each","i"],"mappings":"6BAAA,MAAMA,EAAU,CACdC,WAAYC,GACHC,EAAEC,KAAK,CACZC,OAAQ,OACRC,IAAK,UAAUC,KAAKC,gBACpBC,SAAU,SAEXC,MAAK,IAAMH,KAAKI,iBAGnBC,aAAcV,GACLC,EAAEC,KAAK,CACZC,OAAQ,SACRC,IAAK,UAAUC,KAAKC,gBACpBC,SAAU,SAEXC,MAAK,IAAMH,KAAKI,kBAMrBE,EAAOC,QAAUd,G,cCtBD,EAAQ,KA8CxBa,EAAOC,QA5CP,MACE,YAAYC,GACVR,KAAKS,IAAMb,EAAEY,GACbR,KAAKC,OAASD,KAAKS,IAAIC,KAAK,WAC5BV,KAAKW,YAAcX,KAAKS,IAAIC,KAAK,wBACjCV,KAAKY,SACLZ,KAAKS,IAAII,GAAG,QAASb,KAAKc,YAAYC,KAAKf,OAG7C,SACE,IAAIgB,EAA8B,eAArBhB,KAAKW,YAA+B,UAAY,YAC7DX,KAAKS,IAAIQ,KAAKD,GAGhB,YAAYE,GAEV,OADAA,EAAEC,iBACuB,eAArBnB,KAAKW,YACAf,EAAEC,KAAK,CACZC,OAAQ,OACRC,IAAK,UAAUC,KAAKC,gBACpBC,SAAU,SAEXC,MAAK,IAAMH,KAAKI,iBAEVR,EAAEC,KAAK,CACZC,OAAQ,SACRC,IAAK,UAAUC,KAAKC,gBACpBC,SAAU,SAEXC,MAAK,IAAMH,KAAKI,iBAIrB,eAC2B,eAArBJ,KAAKW,YACPX,KAAKW,YAAc,WAEnBX,KAAKW,YAAc,aAErBX,KAAKY,aCxCLQ,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAahB,QAGrB,IAAID,EAASc,EAAyBE,GAAY,CAGjDf,QAAS,IAOV,OAHAkB,EAAoBH,GAAUI,KAAKpB,EAAOC,QAASD,EAAQA,EAAOC,QAASc,GAGpEf,EAAOC,Q,MCrBf,MAAMoB,EAAe,EAAQ,KAE7B/B,GAAE,KACeA,EAAE,kBACVgC,MAAK,CAACC,EAAGrB,KACd,IAAImB,EAAanB,U","file":"bundle.js","sourcesContent":["const APIUtil = {\n  followUser: id => {\n    return $.ajax({\n      method: \"POST\",\n      url: `/users/${this.userId}/follow`,\n      dataType: \"JSON\"\n    })\n    .then(() => this._changeState())\n  },\n\n  unfollowUser: id => {\n    return $.ajax({\n      method: \"DELETE\",\n      url: `/users/${this.userId}/follow`,\n      dataType: \"JSON\"\n    })\n    .then(() => this._changeState())\n  }\n\n  \n};\n\nmodule.exports = APIUtil;","const APIUtil = require(\"./api_util\");\n\nclass FollowToggle {\n  constructor(el) {\n    this.$el = $(el)\n    this.userId = this.$el.data(\"user-id\")\n    this.followState = this.$el.data(\"initial-follow-state\")\n    this.render();\n    this.$el.on(\"click\", this.handleClick.bind(this));\n  }\n\n  render() {\n    let result = this.followState === \"unfollowed\" ? \"Follow!\" : \"Unfollow!\";\n    this.$el.text(result);\n  }\n\n  handleClick(e) {\n    e.preventDefault();\n    if (this.followState === \"unfollowed\") {\n      return $.ajax({\n        method: \"POST\",\n        url: `/users/${this.userId}/follow`,\n        dataType: \"JSON\"\n      })\n      .then(() => this._changeState())\n    } else {\n      return $.ajax({\n        method: \"DELETE\",\n        url: `/users/${this.userId}/follow`,\n        dataType: \"JSON\"\n      })\n      .then(() => this._changeState())\n    }\n  }\n\n  _changeState() {\n    if (this.followState === \"unfollowed\") {\n      this.followState = \"followed\"\n    } else {\n      this.followState = \"unfollowed\"\n    }\n    this.render()\n  }\n}\n\n\nmodule.exports = FollowToggle","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","const FollowToggle = require(\"./follow_toggle\")\n\n$(() => {\n  const button = $(\".follow-toggle\")\n  button.each((i, el) => {\n    new FollowToggle(el)\n  })\n})"],"sourceRoot":""}